---
- name: add a user in a network
  hosts: all
  become: true
  
  vars:
          username: arjun
          home-directory: /home/arjun
          password: mypasswd

  tasks:
          - name: ensure user exists
            user:
                    name: "{{ username }}"
                    state: present
                    createhome: yes
                    home: "{{ home-directory  }}"
                    password: " {{ password | password_hash('sha512', 'mysecretsalt') }}"
          
